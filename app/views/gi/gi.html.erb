<div id="titulo">
  <%= @titulo %>
  <% if @modo == 'edit' %>
    &nbsp;&nbsp;&nbsp;
    <button title="Nuevo formato" class="mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab mdl-js-ripple-effect mdl-button--colored" style="margin-bottom: 4px;height: 28px;width: 28px;min-width: 28px;" onclick="window.location.href='/gi/new'">
      <i class="gi-img-button material-icons">add</i>
    </button>
  <% end %>
</div>

<div id="solapas">
  <ul>
    <% @forms.each_key do |mod| %>
      <li><a href="#<%= mod %>"> <%= nt(mod) %> </a></li>
    <% end %>
  </ul>

  <% @forms.each do |mod, forms| %>
    <div id="<%= mod %>">
      <table>
        <thead>
          <tr>
            <td>Formato</td>
            <td>Modelo</td>
            <td>Descripci√≥n</td>
          </tr>
        </thead>
        <% forms.each do |form| %>
          <tr>
            <td class="formato"><%= form[0] %></td>
            <td><%= form[1] %></td>
            <td><%= form[2] %></td>
          </tr>
        <% end %>
      </table>
    </div>
  <% end %>
</div>

<style>
  #titulo {
    text-align: center;
    background-color: #673AB7;
    color: #ffffff;
    height: 40px;
    line-height: 40px;
    font-size: large;
    margin-bottom: 1px;
  }
  table, td {
    border: 1px solid #d3d3d3;
    border-collapse: collapse;
  }
  thead td {
    background-color: #673AB7;
    color: #ffffff;
    font-weight: bold;
  }
  td {
    padding-left: 5px;
    padding-right: 5px;
  }
  tr:hover {
    background-color: #e3e3e3;
  }
  .formato {
    cursor: pointer;
  }
</style>

<script>
  $(".formato").on("click", function() {window.open('/gi/<%= @modo %>/' + $(this).parentsUntil('#solapas').last().attr('id') + '/' + $(this).text(), '_self');});
  $("#solapas").tabs();
</script>
