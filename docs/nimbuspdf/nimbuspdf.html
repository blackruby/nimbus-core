<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>NimbusPDF</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>NimbusPDF</h1>
<div id="toc" class="toc2">
<div id="toctitle">Tabla de contenidos</div>
<ul class="sectlevel1">
<li><a href="#_introducción">Introducción</a></li>
<li><a href="#_estructura_de_un_documento">Estructura de un documento</a></li>
<li><a href="#_ejemplo_práctico">Ejemplo práctico</a></li>
<li><a href="#_diseñador_gráfico">Diseñador gráfico</a>
<ul class="sectlevel2">
<li><a href="#_bandas">Bandas</a></li>
<li><a href="#_toolbar">Toolbar</a></li>
<li><a href="#_creación_y_manipulación_de_elementos">Creación y manipulación de elementos</a></li>
<li><a href="#_atajos_de_teclado">Atajos de teclado</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introducción">Introducción</h2>
<div class="sectionbody">
<div class="paragraph">
<p>NimbusPDF es una extensión de Prawn para generar un tipo especial de informes. La nomenclatura que se usará es la siguiente: un informe es el PDF final que obtendremos, éste estará compuesto de uno o más documentos y un documento se basa en una plantilla (Hash) con información de su estructura, de sus bandas y de los elementos contenidos en ellas. Las plantillas se pueden generar a mano (definiendo el hash correspondiente) o través de una herramienta gráfica que facilita la definición y ubicación de cada elemento dentro del documento.<br>
Un informe podría ser, por ejemplo, un listado de facturas. En este caso cada factura sería un documento y el informe sería la colección de dichos documentos. El documento tendría las tres típicas bandas: cabecera, detalle y pie.<br>
Otro ejemplo práctico sería la cumplimentación de un impreso basado en una plantilla. En este caso bastaría con que el documento tuviera sólo una banda de cabecera que ocupara toda la página con la ubicación de los campos necesarios.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_estructura_de_un_documento">Estructura de un documento</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Un documento se basa en un hash (o su correspodiente fichero YAML). Las claves de primer nivel del hash, a las que llamaremos secciones, son a su vez hashes conteniendo las opciones necesarias. Son las siguientes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>def</strong>: Contiene los valores por defecto que se usarán en el diseñador gráfico.</p>
</li>
<li>
<p><strong>pag</strong>: En esta sección se definen las propiedades de la página (tamaño, orientación, márgenes, etc.). Es importante tener en cuenta que los márgenes izquierdo y derecho son ignorados. Las posiciones de los distintos elementos son siempre referidas a los bordes absolutos de la página. Por otro lado, los márgenes superior e inferior, sólo sirven para delimitar la zona válida dónde se irán alojando las distintas bandas de detalle. Las bandas de cabecera y pie no están sujetas a ningún margen, todos sus elementos se referencian en coordenadas absolutas. Otro elemento importante en esta sección es la imagen de fondo, que se pintará en todas las páginas del documento. Se posicionará en el vértice superior izquierda y se dimensionará que para ocupe lo máximo posible sin alterar el aspect-ratio. Si el path empieza por "/" se buscará con ese path absoluto en el sistema de ficheros del servidor, si empieza por "~/" se buscará desde el home del proyecto, en cualquier otro caso, se buscará relativa a la situación del archivo del documento (yml).<br>
Para usar un PDF como imagen de fondo (algo haitual en plantillas preimpresas) deberemos
convertir el pdf a png. La forma más simple es usar el siguiente comando:<br>
<code>pdftoppm input.pdf outputname -png</code><br>
Si hiciera falta mayor resolución (densidad dpi) se puede usar<br>
<code>pdftoppm input.pdf outputname -png -r 300</code><br>
Por defecto usa  una dpi de 150, que en general es suficiente, e incluso
para que no ocupe mucho el pdf final hasta se podría bajar un poco:<br>
<code>pdftoppm input.pdf outputname -png -r 120</code><br>
El comando pdftoppm es parte de la suite poppler-utils. Si no está instalado hay que instalarlo con<br>
<code>yum -y install poppler-utils</code></p>
</li>
<li>
<p><strong>cab</strong>: Es la banda de cabecera. Aquí se declaran todos los elementos de la banda. Esta banda se pintará la primera en todas las páginas del documento. Es un hash donde cada clave es el nombre (alias) de un elemento y su valor es otro hash con sus propiedades. Éstas son:</p>
<div class="ulist">
<ul>
<li>
<p><strong>at</strong>: Es un array con dos elementos. La coordenada X (referida desde el borde izquierdo) y la coordenada Y (referida desde el borde inferior). Las coordenadas se refieren al vértice superior izquierdo del elemento,</p>
</li>
<li>
<p><strong>width</strong>: Anchura del elemento.</p>
</li>
<li>
<p><strong>height</strong>: Altura del elemento.</p>
</li>
<li>
<p><strong>texto</strong>: Texto a mostrar en el elemento. Lo normal es darle valor por programa, pero también se puede asignar aquí uno estático.</p>
</li>
<li>
<p><strong>align</strong>: Alineación horizontal: 'left'. 'center', 'right', 'justify'. (Deafult 'left').</p>
</li>
<li>
<p><strong>valign</strong>: Alineación vertical: 'top'. 'center', 'bottom'. (Deafult 'top').</p>
</li>
<li>
<p><strong>font</strong>: 'Helvetica', 'Times-Roman', 'Courier', 'Symbol', 'ZapfDingbats' o definido por el usuario (Deafult 'Helvetica').</p>
</li>
<li>
<p><strong>style</strong>: Estilo del font: 'normal'. 'bold', 'italic', 'bold_italic'. (Deafult 'normal').</p>
</li>
<li>
<p><strong>size</strong>: Tamaño del font (Default: 12)</p>
</li>
<li>
<p><strong>overflow</strong>: Indica el comportamiento si el texto no cabe en el elemento (Default 'truncate'). Posibles valores:</p>
<div class="ulist">
<ul>
<li>
<p>truncate: Trunca el texto si no cabe.</p>
</li>
<li>
<p>shrink_to_fit: Reduce el font hasta que quepa todo el texto. El font se reducirá hasta llegar a lo indicado por el parámetro <em>min_font_size</em>. A partir de ahí, si el texto siguiera sin caber, se truncaría.</p>
</li>
<li>
<p>expand: El elemento se agrandará en altura hasta que quepa el texto.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>min_font_size</strong>: Tamaño mínimo del font (Default: 5).</p>
</li>
<li>
<p><strong>leading</strong>: Espaciado entre líneas (Default: 0).</p>
</li>
<li>
<p><strong>imagen</strong>: Path a un archivo de imagen. La imagen se ajustará para que se acomode el top-left del elemento manteniendo el aspect-ratio. Si el path empieza por "/" se buscará con ese path absoluto en el sistema de ficheros del servidor, si empieza por "~/" se buscará desde el home del proyecto, en cualquier otro caso, se buscará relativa a la situación del archivo del documento.</p>
</li>
<li>
<p><strong>color</strong>: Color del texto (Default "#000000").</p>
</li>
<li>
<p><strong>bgcolor</strong>: Color del fondo (Default "#ffffff").</p>
</li>
<li>
<p><strong>borde</strong>: Grosor del borde (Default 0).</p>
</li>
<li>
<p><strong>brcolor</strong>: Color del borde (Defualt "#000000").</p>
</li>
<li>
<p><strong>pad_l</strong>: Distancia desde el borde izquierdo del elemento hasta su contenido (Default 0).</p>
</li>
<li>
<p><strong>pad_r</strong>: Distancia desde el borde derecho del elemento hasta su contenido (Default 0).</p>
</li>
<li>
<p><strong>pad_t</strong>: Distancia desde el borde superior del elemento hasta su contenido (Default 0).</p>
</li>
<li>
<p><strong>pad_b</strong>: Distancia desde el borde inferior del elemento hasta su contenido (Default 0).</p>
</li>
<li>
<p><strong>render</strong>: Si vale "auto" (Default) el elemento se renderizará normalmente al añadirse la banda. Si vale "manual", no se renderizará, salvo que lo forcemos explícitamente con el método <em>pon_elementos</em>. La utilidad de esto es para evitar que se rendericen elementos que contienen información que no se conoce en el momento de ir generando el documento, y que se conoce y se renderiza a posteriori (como por ejemplo el número total de páginas del documento o del informe).</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>pie</strong>: Banda de pie. Esta banda se pintará después de renderizar cada página del documento. Es un hash donde cada clave es el nombre (alias) de un elemento y su valor es otro hash con sus propiedades. Éstas son las mismas que en la banda de cabecera.</p>
</li>
<li>
<p><strong>draw</strong>: Es una banda especial que contiene sólo líneas horizontales y/o verticales. Se pintará en cada página del documento. Es un hash donde cada clave es el nombre (alias) de un elemento y su valor es otro hash con sus propiedades. Éstas son un subconjunto de las de la banda de cabecera: <em>at</em>, <em>width</em>, <em>height</em> y <em>color</em>.</p>
</li>
<li>
<p><strong>ban</strong>: Es un hash, conteniendo bandas de detalle. Cada clave es el nombre de una banda y su valor es similar al de las bandas de cabecera o pie. El subconjunto de propiedades permitidas es el siguiente: <em>at</em> (en este caso sólo se hará uso de la coordena X), <em>width</em>, <em>align</em>, <em>font</em>, <em>style</em>, <em>size</em>, <em>leading</em> y <em>color</em>. Las bandas de detalle se irán añadiendo entre los márgenes superior e inferior y cada uno de sus elementos se expandirá en altura para acomodar el texto.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Todas las medidas (posición, grosor, tamaño de fuente, etc.) se expresan en "puntos". Un punto equivale a 1/72 de pulgada.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ejemplo_práctico">Ejemplo práctico</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para ilustrar el funcionamiento nos vamos a basar en el informe "modulos/nimbus-core/app/controllers/l_divisas_paises_controller.rb". Para hacer un informe hay que hacer un controlador como si se tratara de un proceso más (con sus rutas correspondientes). Aquí definiremos nuestro <em>@campos</em> con los campos que queramos recoger (principalmente límites y filtros) y, luego, en el método <em>after_save</em>, que es el llamado al confirmar la página construiremos el informe (PDF) y lo enviaremos al navegador.<br>
En este ejemplo pintaremos para cada divisa seleccionada un documento con la lista de todos los países que usan dicha divisa y a continuación otro documento (totalmente artificial y sólo a modo de ejemplo) rellenando un formulario preimpreso. Puesto que el informe se compone de dos documentos, necesitaremos dos plantillas (YAML). Como norma general, lo ideal es crear una carpeta en el mismo nivel donde reside el controlador y con el nombre del mismo sin el sufijo <em>_controller.rb</em> y dejar allí tanto las plantillas (yml) como las imágenes que se pudieran usar. Así no necesitaremos indicar ningún path para referirnos a ellas. Usaremos una plantilla adicional (<em>resumen.yml</em>) para pintar una banda embebida a partir del documento que representa esa plantilla.<br>
Las tres plantillas que usaremos son:</p>
</div>
<div class="paragraph">
<p><em>l_divisas_paises.yml</em></p>
</div>
<div class="listingblock codebox">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="head"><span class="head">---</span></span>
<span class="symbol">:def</span>:
  <span class="symbol">:grosor_linea</span>: <span class="error">'1.30'</span>
<span class="symbol">:pag</span>:
  <span class="symbol">:size</span>: <span class="error">A4</span>
  <span class="symbol">:layout</span>: <span class="error">landscape</span>
  <span class="symbol">:top_margin</span>: <span class="error">'344.64'</span>
  <span class="symbol">:bottom_margin</span>: <span class="error">'85.97'</span>
<span class="symbol">:cab</span>:
  <span class="symbol">:logo</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'46.57'</span></span>
    - <span class="string"><span class="content">'566.02'</span></span>
    <span class="symbol">:width</span>: <span class="error">'179.13'</span>
    <span class="symbol">:height</span>: <span class="error">'154.65'</span>
    <span class="symbol">:imagen</span>: <span class="error">ruby.png</span>
  <span class="symbol">:divisa</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'270.48'</span></span>
    - <span class="string"><span class="content">'502.13'</span></span>
    <span class="symbol">:width</span>: <span class="error">'328.99'</span>
    <span class="symbol">:height</span>: <span class="error">'53.74'</span>
    <span class="symbol">:align</span>: <span class="error">center</span>
    <span class="symbol">:overflow</span>: <span class="error">shrink_to_fit</span>
    <span class="symbol">:borde</span>: <span class="error">'2.00'</span>
    <span class="symbol">:brcolor</span>: <span class="error">&quot;#0000ff&quot;</span>
    <span class="symbol">:size</span>: <span class="error">'13.00'</span>
  <span class="symbol">:pagina</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'692.47'</span></span>
    - <span class="string"><span class="content">'549.88'</span></span>
    <span class="symbol">:width</span>: <span class="error">'91.35'</span>
    <span class="symbol">:height</span>: <span class="error">'35.83'</span>
    <span class="symbol">:font</span>: <span class="error">Times-Roman</span>
  <span class="symbol">:lorem</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'569.70'</span></span>
    - <span class="string"><span class="content">'411.13'</span></span>
    <span class="symbol">:width</span>: <span class="error">'220.92'</span>
    <span class="symbol">:height</span>: <span class="error">'95.53'</span>
    <span class="symbol">:overflow</span>: <span class="error">shrink_to_fit</span>
    <span class="symbol">:borde</span>: <span class="error">'1.00'</span>
    <span class="symbol">:pad_l</span>: <span class="error">'5.00'</span>
    <span class="symbol">:pad_r</span>: <span class="error">'5.00'</span>
    <span class="symbol">:pad_t</span>: <span class="error">'5.00'</span>
    <span class="symbol">:pad_b</span>: <span class="error">'5.00'</span>
    <span class="symbol">:leading</span>: <span class="error">'1.00'</span>
  <span class="symbol">:codigo</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'62.37'</span></span>
    - <span class="string"><span class="content">'275.10'</span></span>
    <span class="symbol">:width</span>: <span class="error">'77.81'</span>
    <span class="symbol">:height</span>: <span class="error">'17.29'</span>
    <span class="symbol">:texto</span>: <span class="error">Código</span>
    <span class="symbol">:align</span>: <span class="error">center</span>
    <span class="symbol">:color</span>: <span class="error">&quot;#ffffff&quot;</span>
    <span class="symbol">:bgcolor</span>: <span class="error">&quot;#505050&quot;</span>
  <span class="symbol">:descripcion</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'146.06'</span></span>
    - <span class="string"><span class="content">'275.10'</span></span>
    <span class="symbol">:width</span>: <span class="error">'517.26'</span>
    <span class="symbol">:height</span>: <span class="error">'17.29'</span>
    <span class="symbol">:texto</span>: <span class="error">Descripción</span>
    <span class="symbol">:align</span>: <span class="error">center</span>
    <span class="symbol">:color</span>: <span class="error">&quot;#ffffff&quot;</span>
    <span class="symbol">:bgcolor</span>: <span class="error">&quot;#505050&quot;</span>
  <span class="symbol">:codigo_iso</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'669.54'</span></span>
    - <span class="string"><span class="content">'275.32'</span></span>
    <span class="symbol">:width</span>: <span class="error">'118.17'</span>
    <span class="symbol">:height</span>: <span class="error">'17.29'</span>
    <span class="symbol">:texto</span>: <span class="error">Código ISO</span>
    <span class="symbol">:align</span>: <span class="error">center</span>
    <span class="symbol">:color</span>: <span class="error">&quot;#ffffff&quot;</span>
    <span class="symbol">:bgcolor</span>: <span class="error">&quot;#505050&quot;</span>
<span class="symbol">:pie</span>:
  <span class="symbol">:fecha</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'59.11'</span></span>
    - <span class="string"><span class="content">'58.50'</span></span>
    <span class="symbol">:width</span>: <span class="error">'127.18'</span>
    <span class="symbol">:height</span>: <span class="error">'22.69'</span>
    <span class="symbol">:font</span>: <span class="error">Times-Roman</span>
    <span class="symbol">:size</span>: <span class="error">'10.00'</span>
  <span class="symbol">:pagina_doc</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'546.93'</span></span>
    - <span class="string"><span class="content">'58.50'</span></span>
    <span class="symbol">:width</span>: <span class="error">'122.40'</span>
    <span class="symbol">:height</span>: <span class="error">'22.94'</span>
    <span class="symbol">:render</span>: <span class="error">manual</span>
    <span class="symbol">:size</span>: <span class="error">'11.00'</span>
  <span class="symbol">:pagina_inf</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'678.29'</span></span>
    - <span class="string"><span class="content">'58.50'</span></span>
    <span class="symbol">:width</span>: <span class="error">'114.64'</span>
    <span class="symbol">:height</span>: <span class="error">'22.94'</span>
    <span class="symbol">:render</span>: <span class="error">manual</span>
    <span class="symbol">:size</span>: <span class="error">'11.00'</span>
  <span class="symbol">:total</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'195.84'</span></span>
    - <span class="string"><span class="content">'58.50'</span></span>
    <span class="symbol">:width</span>: <span class="error">'339.74'</span>
    <span class="symbol">:height</span>: <span class="error">'22.69'</span>
    <span class="symbol">:align</span>: <span class="error">center</span>
    <span class="symbol">:style</span>: <span class="error">bold</span>
    <span class="symbol">:bgcolor</span>: <span class="error">&quot;#c8c8c8&quot;</span>
<span class="symbol">:draw</span>:
  <span class="symbol">:e_1</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'59.11'</span></span>
    - <span class="string"><span class="content">'279.42'</span></span>
    <span class="symbol">:width</span>: <span class="error">'732.03'</span>
    <span class="symbol">:height</span>: <span class="error">'1.30'</span>
  <span class="symbol">:e_2</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'59.11'</span></span>
    - <span class="string"><span class="content">'85.97'</span></span>
    <span class="symbol">:width</span>: <span class="error">'732.03'</span>
    <span class="symbol">:height</span>: <span class="error">'1.30'</span>
  <span class="symbol">:margen_i</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'59.11'</span></span>
    - <span class="string"><span class="content">'279.42'</span></span>
    <span class="symbol">:width</span>: <span class="error">'1.30'</span>
    <span class="symbol">:height</span>: <span class="error">'194.65'</span>
  <span class="symbol">:e_4</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'142.67'</span></span>
    - <span class="string"><span class="content">'279.45'</span></span>
    <span class="symbol">:width</span>: <span class="error">'1.30'</span>
    <span class="symbol">:height</span>: <span class="error">'194.65'</span>
  <span class="symbol">:e_5</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'665.75'</span></span>
    - <span class="string"><span class="content">'279.42'</span></span>
    <span class="symbol">:width</span>: <span class="error">'1.30'</span>
    <span class="symbol">:height</span>: <span class="error">'194.65'</span>
  <span class="symbol">:margen_d</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'789.94'</span></span>
    - <span class="string"><span class="content">'279.42'</span></span>
    <span class="symbol">:width</span>: <span class="error">'1.30'</span>
    <span class="symbol">:height</span>: <span class="error">'194.65'</span>
  <span class="symbol">:e_7</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'59.11'</span></span>
    - <span class="string"><span class="content">'254.94'</span></span>
    <span class="symbol">:width</span>: <span class="error">'732.03'</span>
    <span class="symbol">:height</span>: <span class="error">'1.30'</span>
<span class="symbol">:ban</span>:
  <span class="symbol">:detalle</span>:
    <span class="symbol">:codigo</span>:
      <span class="symbol">:at</span>:
      - <span class="string"><span class="content">'62.69'</span></span>
      - <span class="string"><span class="content">'250.76'</span></span>
      <span class="symbol">:width</span>: <span class="error">'75.83'</span>
      <span class="symbol">:align</span>: <span class="error">center</span>
    <span class="symbol">:descripcion</span>:
      <span class="symbol">:at</span>:
      - <span class="string"><span class="content">'159.85'</span></span>
      - <span class="string"><span class="content">'250.76'</span></span>
      <span class="symbol">:width</span>: <span class="error">'491.49'</span>
      <span class="symbol">:align</span>: <span class="error">justify</span>
      <span class="symbol">:font</span>: <span class="error">Times-Roman</span>
      <span class="symbol">:leading</span>: <span class="error">'1.00'</span>
    <span class="symbol">:codigo_iso</span>:
      <span class="symbol">:at</span>:
      - <span class="string"><span class="content">'670.13'</span></span>
      - <span class="string"><span class="content">'250.76'</span></span>
      <span class="symbol">:width</span>: <span class="error">'117.43'</span>
      <span class="symbol">:align</span>: <span class="error">center</span>
  <span class="symbol">:total</span>:
    <span class="symbol">:total</span>:
      <span class="symbol">:at</span>:
      - <span class="string"><span class="content">'161.81'</span></span>
      - <span class="string"><span class="content">'227.25'</span></span>
      <span class="symbol">:width</span>: <span class="error">'488.91'</span>
      <span class="symbol">:align</span>: <span class="error">center</span>
      <span class="symbol">:style</span>: <span class="error">bold</span>
      <span class="symbol">:color</span>: <span class="error">&quot;#0000ff&quot;</span>
      <span class="symbol">:size</span>: <span class="error">'14.00'</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><em>322.yml</em></p>
</div>
<div class="listingblock codebox">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="head"><span class="head">---</span></span>
<span class="symbol">:pag</span>:
  <span class="symbol">:fondo</span>: <span class="error">322.png</span>
<span class="symbol">:cab</span>:
  <span class="symbol">:codigo</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'108.47'</span></span>
    - <span class="string"><span class="content">'718.81'</span></span>
    <span class="symbol">:width</span>: <span class="error">'93.21'</span>
    <span class="symbol">:height</span>: <span class="error">'11.22'</span>
    <span class="symbol">:size</span>: <span class="error">'11.00'</span>
  <span class="symbol">:descripcion</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'229.28'</span></span>
    - <span class="string"><span class="content">'718.81'</span></span>
    <span class="symbol">:width</span>: <span class="error">'316.31'</span>
    <span class="symbol">:height</span>: <span class="error">'11.92'</span>
    <span class="symbol">:size</span>: <span class="error">'11.00'</span>
  <span class="symbol">:n_paises</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'438.42'</span></span>
    - <span class="string"><span class="content">'590.20'</span></span>
    <span class="symbol">:width</span>: <span class="error">'105.55'</span>
    <span class="symbol">:height</span>: <span class="error">'11.77'</span>
    <span class="symbol">:align</span>: <span class="error">right</span>
    <span class="symbol">:size</span>: <span class="error">'11.00'</span>
  <span class="symbol">:actividad</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'172.05'</span></span>
    - <span class="string"><span class="content">'44.21'</span></span>
    <span class="symbol">:width</span>: <span class="error">'13.62'</span>
    <span class="symbol">:height</span>: <span class="error">'14.64'</span>
    <span class="symbol">:align</span>: <span class="error">center</span>
    <span class="symbol">:size</span>: <span class="error">'13.00'</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><em>resumen.yml</em></p>
</div>
<div class="listingblock codebox">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="head"><span class="head">---</span></span>
<span class="symbol">:pag</span>:
  <span class="symbol">:layout</span>: <span class="error">landscape</span>
<span class="symbol">:cab</span>:
  <span class="symbol">:c1</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'180.00'</span></span>
    - <span class="string"><span class="content">'567.00'</span></span>
    <span class="symbol">:width</span>: <span class="error">'135.97'</span>
    <span class="symbol">:height</span>: <span class="error">'30.00'</span>
    <span class="symbol">:align</span>: <span class="error">center</span>
    <span class="symbol">:overflow</span>: <span class="error">shrink_to_fit</span>
    <span class="symbol">:bgcolor</span>: <span class="error">&quot;#ea9999&quot;</span>
    <span class="symbol">:pad_l</span>: <span class="error">'5.00'</span>
    <span class="symbol">:pad_r</span>: <span class="error">'5.00'</span>
    <span class="symbol">:pad_t</span>: <span class="error">'5.00'</span>
    <span class="symbol">:pad_b</span>: <span class="error">'5.00'</span>
  <span class="symbol">:c2</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'340.00'</span></span>
    - <span class="string"><span class="content">'567.00'</span></span>
    <span class="symbol">:width</span>: <span class="error">'135.97'</span>
    <span class="symbol">:height</span>: <span class="error">'30.00'</span>
    <span class="symbol">:align</span>: <span class="error">center</span>
    <span class="symbol">:overflow</span>: <span class="error">shrink_to_fit</span>
    <span class="symbol">:bgcolor</span>: <span class="error">&quot;#27d37a&quot;</span>
    <span class="symbol">:pad_l</span>: <span class="error">'5.00'</span>
    <span class="symbol">:pad_r</span>: <span class="error">'5.00'</span>
    <span class="symbol">:pad_t</span>: <span class="error">'5.00'</span>
    <span class="symbol">:pad_b</span>: <span class="error">'5.00'</span>
  <span class="symbol">:c3</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'180.00'</span></span>
    - <span class="string"><span class="content">'530.00'</span></span>
    <span class="symbol">:width</span>: <span class="error">'135.97'</span>
    <span class="symbol">:height</span>: <span class="error">'30.00'</span>
    <span class="symbol">:align</span>: <span class="error">center</span>
    <span class="symbol">:overflow</span>: <span class="error">shrink_to_fit</span>
    <span class="symbol">:color</span>: <span class="error">&quot;#ffffff&quot;</span>
    <span class="symbol">:bgcolor</span>: <span class="error">&quot;#063289&quot;</span>
    <span class="symbol">:pad_l</span>: <span class="error">'5.00'</span>
    <span class="symbol">:pad_r</span>: <span class="error">'5.00'</span>
    <span class="symbol">:pad_t</span>: <span class="error">'5.00'</span>
    <span class="symbol">:pad_b</span>: <span class="error">'5.00'</span>
  <span class="symbol">:c4</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'340.00'</span></span>
    - <span class="string"><span class="content">'530.00'</span></span>
    <span class="symbol">:width</span>: <span class="error">'135.97'</span>
    <span class="symbol">:height</span>: <span class="error">'30.00'</span>
    <span class="symbol">:overflow</span>: <span class="error">shrink_to_fit</span>
    <span class="symbol">:bgcolor</span>: <span class="error">&quot;#e8ec22&quot;</span>
    <span class="symbol">:pad_l</span>: <span class="error">'5.00'</span>
    <span class="symbol">:pad_r</span>: <span class="error">'5.00'</span>
    <span class="symbol">:pad_t</span>: <span class="error">'5.00'</span>
    <span class="symbol">:pad_b</span>: <span class="error">'5.00'</span>
<span class="symbol">:draw</span>:
  <span class="symbol">:e_1</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'168.00'</span></span>
    - <span class="string"><span class="content">'572.24'</span></span>
    <span class="symbol">:width</span>: <span class="error">'320.00'</span>
    <span class="symbol">:height</span>: <span class="error">'1.00'</span>
  <span class="symbol">:e_2</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'168.00'</span></span>
    - <span class="string"><span class="content">'571.26'</span></span>
    <span class="symbol">:width</span>: <span class="error">'1.00'</span>
    <span class="symbol">:height</span>: <span class="error">'74.40'</span>
  <span class="symbol">:e_3</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'168.00'</span></span>
    - <span class="string"><span class="content">'496.82'</span></span>
    <span class="symbol">:width</span>: <span class="error">'320.00'</span>
    <span class="symbol">:height</span>: <span class="error">'1.00'</span>
  <span class="symbol">:e_4</span>:
    <span class="symbol">:at</span>:
    - <span class="string"><span class="content">'487.00'</span></span>
    - <span class="string"><span class="content">'571.14'</span></span>
    <span class="symbol">:width</span>: <span class="error">'1.00'</span>
    <span class="symbol">:height</span>: <span class="error">'74.40'</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Además de las plantillas de los documentos, en la carpeta se encuentran dos imágenes: "ruby.png" usada como fondo de un elemento en la primera plantilla, y "322.png", usada como fondo de página en la segunda.</p>
</div>
<div class="paragraph">
<p>El código fuente del controlador es el siguiente:</p>
</div>
<div class="listingblock codebox-ruby">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="ruby"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
</pre></td>
  <td class="code"><pre><span class="keyword">class</span> <span class="class">LDivisasPaisesMod</span>
  <span class="instance-variable">@campos</span> = {
    <span class="key">divisa_id</span>: {<span class="key">tab</span>: <span class="string"><span class="delimiter">'</span><span class="content">pre</span><span class="delimiter">'</span></span>, <span class="key">gcols</span>: <span class="integer">3</span>, <span class="key">title</span>: <span class="string"><span class="delimiter">'</span><span class="content">Si no se especifica una divisa se mostrarán todas</span><span class="delimiter">'</span></span>}
  }

  <span class="instance-variable">@titulo</span> = <span class="string"><span class="delimiter">'</span><span class="content">Listado de países por divisa</span><span class="delimiter">'</span></span>
  <span class="instance-variable">@nivel</span> = <span class="string"><span class="delimiter">'</span><span class="delimiter">'</span></span>

  include <span class="constant">MantMod</span>
<span class="keyword">end</span>

<span class="keyword">class</span> <span class="class">LDivisasPaisesController</span> &lt; <span class="constant">ApplicationController</span>
  <span class="keyword">def</span> <span class="function">before_index</span>
    <span class="instance-variable">@usu</span>.admin
  <span class="keyword">end</span>

  <span class="keyword">def</span> <span class="function">before_envia_ficha</span>
    params2fact
  <span class="keyword">end</span>

  <span class="keyword">def</span> <span class="function">after_save</span>
    st = <span class="string"><span class="delimiter">&quot;</span><span class="content">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>
    fecha = <span class="constant">Time</span>.now
    tmp_file = nim_tmpname <span class="string"><span class="delimiter">'</span><span class="content">/tmp/</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">.pdf</span><span class="delimiter">'</span></span>

    info = {
      <span class="key">Title</span>: <span class="string"><span class="delimiter">'</span><span class="content">Países por divisa</span><span class="delimiter">'</span></span>,
      <span class="key">Author</span>: <span class="string"><span class="delimiter">'</span><span class="content">Nimbus</span><span class="delimiter">'</span></span>,
      <span class="key">Subject</span>: <span class="string"><span class="delimiter">'</span><span class="content">Informe de ejemplo de NimbusPDF</span><span class="delimiter">'</span></span>,
      <span class="key">Keywords</span>: <span class="string"><span class="delimiter">'</span><span class="content">divisas, países</span><span class="delimiter">'</span></span>,
      <span class="key">Creator</span>: <span class="string"><span class="delimiter">'</span><span class="content">Nimbus</span><span class="delimiter">'</span></span>,
      <span class="key">Producer</span>: <span class="string"><span class="delimiter">'</span><span class="content">NimbusPDF + Prawn</span><span class="delimiter">'</span></span>,
      <span class="key">CreationDate</span>: fecha
    }

    sql = <span class="constant">Divisa</span>.includes(<span class="symbol">:paises</span>).order(<span class="symbol">:codigo</span>)
    sql = sql.where(<span class="key">id</span>: <span class="instance-variable">@fact</span>.divisa_id) <span class="keyword">if</span> <span class="instance-variable">@fact</span>.divisa_id

    <span class="constant">NimbusPDF</span>.generate(tmp_file, <span class="key">info</span>: info, <span class="key">compress</span>: <span class="predefined-constant">true</span>) {
      sql.each {|div|
        tot = <span class="integer">0</span>

        <span class="comment"># Lambdas de cabecera y pie</span>
        cabecera -&gt; {{<span class="key">divisa</span>: div.codigo + <span class="string"><span class="delimiter">'</span><span class="content"> </span><span class="delimiter">'</span></span> + div.descripcion, <span class="key">lorem</span>: st, <span class="key">pagina</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Página: </span><span class="inline"><span class="inline-delimiter">#{</span>page_number<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>}}
        pie -&gt;(fin) {{<span class="key">fecha</span>: fecha, <span class="key">total</span>: fin ? <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>div.descripcion<span class="inline-delimiter">}</span></span><span class="content"> (</span><span class="inline"><span class="inline-delimiter">#{</span>div.codigo<span class="inline-delimiter">}</span></span><span class="content">)   Tot.Países: </span><span class="inline"><span class="inline-delimiter">#{</span>tot<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">'</span><span class="delimiter">'</span></span>}}

        nuevo_doc(<span class="key">tit</span>: div.descripcion) {
          div.paises.each {|p|
            p.nombre += <span class="string"><span class="delimiter">&quot;</span><span class="content">: </span><span class="char">\n</span><span class="inline"><span class="inline-delimiter">#{</span>st * <span class="integer">2</span><span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span> <span class="keyword">if</span> p.codigo == <span class="string"><span class="delimiter">'</span><span class="content">DE</span><span class="delimiter">'</span></span>
            nueva_banda <span class="key">ban</span>: <span class="symbol">:detalle</span>, <span class="key">val</span>: {<span class="key">codigo</span>: p.codigo, <span class="key">descripcion</span>: p.nombre, <span class="key">codigo_iso</span>: p.codigo_iso3}
            stroke_horizontal_line documento[<span class="symbol">:draw</span>][<span class="symbol">:margen_i</span>][<span class="symbol">:at</span>][<span class="integer">0</span>], documento[<span class="symbol">:draw</span>][<span class="symbol">:margen_d</span>][<span class="symbol">:at</span>][<span class="integer">0</span>]
            move_down <span class="integer">5</span>
            tot += <span class="integer">1</span>
          }

          nueva_banda <span class="key">ban</span>: <span class="symbol">:total</span>, <span class="key">val</span>: {<span class="key">total</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Nº de países: </span><span class="inline"><span class="inline-delimiter">#{</span>tot<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>}

          <span class="keyword">if</span> div.codigo == <span class="string"><span class="delimiter">'</span><span class="content">DKK</span><span class="delimiter">'</span></span>
            (<span class="integer">1</span>..<span class="integer">4</span>).each {|i|
              nuevo_doc_banda <span class="key">doc</span>: <span class="string"><span class="delimiter">'</span><span class="content">resumen</span><span class="delimiter">'</span></span>, <span class="key">val</span>: {<span class="key">c1</span>: <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>div.codigo<span class="inline-delimiter">}</span></span><span class="content"> (</span><span class="inline"><span class="inline-delimiter">#{</span>i<span class="inline-delimiter">}</span></span><span class="content">)</span><span class="delimiter">&quot;</span></span>, <span class="key">c2</span>: div.descripcion, <span class="key">c3</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Decimales: </span><span class="inline"><span class="inline-delimiter">#{</span>div.decimales<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>, <span class="key">c4</span>: st}
              move_down <span class="integer">4</span>
            }
          <span class="keyword">end</span>
        }

        nuevo_doc <span class="key">doc</span>: <span class="string"><span class="delimiter">'</span><span class="content">322</span><span class="delimiter">'</span></span>, <span class="key">cab</span>: {<span class="key">codigo</span>: div.codigo, <span class="key">descripcion</span>: div.descripcion, <span class="key">n_paises</span>: tot, <span class="key">actividad</span>: <span class="string"><span class="delimiter">'</span><span class="content">X</span><span class="delimiter">'</span></span>}
      }

      repeat(<span class="symbol">:all</span>, <span class="key">dynamic</span>: <span class="predefined-constant">true</span>) {
        pon_elementos <span class="symbol">:pie</span>, <span class="key">pagina_doc</span>: page_number_doc(<span class="string"><span class="delimiter">'</span><span class="content">Página (doc): %{p} de %{tp}</span><span class="delimiter">'</span></span>), <span class="key">pagina_inf</span>: page_number(<span class="string"><span class="delimiter">'</span><span class="content">Página (inf): %{p} de %{tp}</span><span class="delimiter">'</span></span>)
      }
    }

    envia_fichero <span class="key">file</span>: tmp_file, <span class="key">file_cli</span>: <span class="string"><span class="delimiter">'</span><span class="content">paises_divisas.pdf</span><span class="delimiter">'</span></span>, <span class="key">disposition</span>: <span class="string"><span class="delimiter">'</span><span class="content">inline</span><span class="delimiter">'</span></span>
  <span class="keyword">end</span>
<span class="keyword">end</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>A continuación pasaremos a describir lo que hacen las líneas más significativas del código.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>18</strong> El método <em>params2fact</em> procesa los parámetros recibidos en la URL y los asigna
a los campos de @fact si coinciden los nombres, además si se recibe el parámetro
especial <em>go</em>, se llamará directamente a <em>after_save</em>. Sería una forma de emular las características del <em>gi</em>.</p>
</li>
<li>
<p><strong>24</strong> Generamos un nombre temporal para el fichero.</p>
</li>
<li>
<p><strong>26-34</strong> Creamos una hash con metadatos para incluir en el PDF.</p>
</li>
<li>
<p><strong>36-37</strong> Obtención de los datos según el filtro de divisa.</p>
</li>
<li>
<p><strong>39</strong> Generación del PDF. Para generar el informe (pdf) tenemos tres opciones:</p>
<div class="ulist">
<ul>
<li>
<p>Instanciar un nuevo objeto de la clase NimbusPDF, aplicar todos los métodos sobre él y después renderizar el pdf.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="ruby">   pdf = <span class="constant">NimbusPDF</span>.new
   <span class="comment"># Usar todos los métos de NimbusPDF y de Prawn asociándolos a 'pdf'</span>
   <span class="comment"># (pdf.cabecera, pdf.pie, pdf.nuevo_doc, pdf.move_down, etc.)</span>
   pdf.render_file tmp_file</code></pre>
</div>
</div>
</li>
<li>
<p>Usar directamente el método <em>generate</em> con el parámetro <em>pdf</em>.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="ruby">    <span class="constant">NimbusPDF</span>.generate(tmp_file) {|pdf|
      <span class="comment"># Usar todos los métos de NimbusPDF y de Prawn asociándolos a 'pdf'</span>
      <span class="comment"># (pdf.cabecera, pdf.pie, pdf.nuevo_doc, pdf.move_down, etc.).</span>
      <span class="comment"># El bloque se evaluará en el ámbito local y por tanto tendremos</span>
      <span class="comment"># acceso a nuestras variables locales y de instancia (@fact, etc.)</span>
    }</code></pre>
</div>
</div>
</li>
<li>
<p>Usar directamente el método <em>generate</em> sin parámetros</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="ruby">    <span class="constant">NimbusPDF</span>.generate(tmp_file) {
      <span class="comment"># Usar todos los métos de NimbusPDF y de Prawn directamente.</span>
      <span class="comment"># El bloque se evaluará en el ámbito de NimbusPDF. Tendremos</span>
      <span class="comment"># acceso a nuestras variables locales, pero no a las de instancia (@fact, etc.)</span>
    }</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Tanto NimbusPDF.new en su primer argumento, como NimbusPDF.generate en su segundo, admiten un hash con las
opciones <em>info</em> y <em>compress</em> (como está usado en el ejemplo).</p>
</div>
</li>
<li>
<p><strong>44</strong> El método <em>cabecera</em> recibe un argumento que puede ser un hash conteniendo los valores de
los elementos de la banda <em>cabecera</em>, o un lambda que devuelva un hash igual al anterior. La banda de cabecera
se pinta en todas las páginas del documento. La diferencia entre asignar a este método un hash o un lambda es
que el hash sería "estático" (igual en todas las páginas) y el lambda se evaluaría al comenzar cada nueva página.
Si, por ejemplo, asignáramos a algún campo valores dinámicos, como el número de página o algún acumulado que
llevemos en alguna variable local, deberíamos de usar un lambda.</p>
</li>
<li>
<p><strong>45</strong> Igual al anterior pero con la banda de <em>pie</em>. En el lambda que se le puede pasar a este método se puede
declarar opcionalmente un argumento (<em>fin</em> en el ejemplo) que valdrá <em>true</em> o <em>false</em> en función de si es
la última página del documento o no. Esto es útil para si, en documentos tipo factura, se quiere pintar los
valores del pie sólo en la última página.</p>
</li>
<li>
<p><strong>47</strong> Comenzamos un nuevo documento. Esto implica que se comienza una nueva página.
Se puede asociar un bloque en el que se puede ir construyendo el contenido del documento, bien usando métodos
directos de Prawn o añadiendo bandas con los métodos propios de NimbusPDF (<em>nueva_banda</em>, <em>nuevo_doc_banda</em>).
Según se vayan añadiendo bandas el documento irá creciendo y se irán creando páginas según se necesite. Se
puede forzar una página nueva con el método <em>start_new_page</em>. Si no se pasa ningún bloque también se puede
usar todo lo anterior, pero tendremos que finalizar el documento explícitamente llamando a <em>fin_doc</em> (esto
no sería necesario si el documento carece de pie). Al comenzar un nuevo documento se da por finalizado el
anterior (si no había bloque o no se había llamado a <em>fin_doc</em> no se pintará el último pie).
Las bandas <em>draw</em>, <em>cab</em> y <em>pie</em> se pintarán automáticamente en cada página del documento.
Los argumentos que puede recibir son:<br></p>
<div class="ulist">
<ul>
<li>
<p><em>doc</em>: Nombre del documento (fichero yml) donde se encuentra la plantilla. Si no se especifica se asume
que el nombre del fichero es el mismo que el controlador (sin <em>_controller</em>) y con extensión <em>yml</em> (no es
necesario indicar la extensión)</p>
</li>
<li>
<p><em>cab</em>: Es opcional. Si no se ha usado el método <em>cabecera</em> (línea 44), se puede indicar aquí. Igual que en
el método, se le puede indicar un hash o un lambda.</p>
</li>
<li>
<p><em>pie</em>: Es opcional. Si no se ha usado el método <em>pie</em> (línea 45), se puede indicar aquí. Igual que en
el método, se le puede indicar un hash o un lambda.</p>
</li>
<li>
<p><em>tit</em>: Es opcional. Si se indica, debe ser una string que será el texto que aparecerá en el índice que
se muestra en los lectores de PDF (el PDF incluirá un índice con el texto indicado asociado a la página
donde comienza este documento).</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>50</strong> Añadimos una nueva banda de detalle. El método espera dos argumentos: <em>ban</em>, que es el nombre de la banda
de detalle (si no se especifica, se usará :det) y <em>val</em> que es un hash con los valores que asignamos a cada
elemento de la banda. Las bandas de detalle no tienen altura y constan de elementos dispuestos en una única
fila. Si el contenido de alguno de los elementos no cupiera en una sóla línea, se irá expandiendo (incluso
pasando de página) lo que sea necesario. Para demostrar este hecho, cuando el país es Alemania (código DE),
en la línea anterior (49) se le añade al nombre del país un texto largo.</p>
</li>
<li>
<p><strong>51</strong> Pinta una línea horizontal. Se basa en las coordenadas de los elementos <em>margen_i</em> y <em>margen_d</em> de la
banda <em>draw</em>. Para poder acceder a cualquier dato del documento lo podemos hacer a través del hash <em>documento</em>
que contiene toda la información del <em>yml</em> asociado.</p>
</li>
<li>
<p><strong>52</strong> Aunque al pintar una banda ya se deja un margen para pintar la siguiente, aquí se ha optado por bajar
el <em>cursor</em> un poco más (5 puntos) para dejar un interlineado algo mayor.</p>
</li>
<li>
<p><strong>56</strong> Se añade otra banda de detalle después de las correspodientes a cada país.</p>
</li>
<li>
<p><strong>60</strong> Se añade otra banda resumen. Esta vez se usa el método <em>nuevo_doc_banda</em>, aquí se usa una plantilla
(documento) para obtener información de los elementos correspondientes. De dicha plantilla sólo se tendrá
en cuenta su banda de dibujo (<em>draw</em>) y de cabecera (<em>cab</em>). La altura de la banda que se renderizará será
la comprendida entre el elemento situado más arriba en la plantilla y el situado más abajo (es decir, que
todo el espacio que se deje por arriba o por abajo en las bandas <em>draw</em> o <em>cab</em> será ignorado). Eso significa
que da igual la altura donde posicionemos los elementos, ya que estos se considerarán relativos al elemento
situado en lo más alto. Este tipo de bandas se pintarán siempre completas, si no queda espacio suficiente
en la página, se saltará de página y se pintará la banda en la siguiente. En el ejemplo se pintan 4 bandas
de este tipo cuando la divisa sea la Corona Danesa (DKK) (se pintan sólo en este caso para no hacer muy
"pesado" el informe). Se esperan dos argumentos: <em>doc</em>, que es el nombre de la plantilla (<em>resumen.yml</em> en
este caso) y <em>val</em> que es un hash con los valores que se asignarán a los elementos de la banda <em>cab</em> del
documento.</p>
</li>
<li>
<p><strong>66</strong> Se añade un nuevo documento asociado a la divisa en curso, en este caso basado en la plantilla <em>322.yml</em>.
Aquí se opta por pasar los valores para los elementos de la banda cabecera (<em>cab</em>) directamente en el método.
Al no tener un bloque asociado ni añadirse bandas ni usar <em>fin_doc</em>, el documento constará de sólo una
página con la imagen de fondo y los elementos de las bandas <em>draw</em> y <em>cab</em>.</p>
</li>
<li>
<p><strong>69</strong> <em>repeat</em> es un método nativo de Prawn. Su función es iterar por las páginas indicadas, en este caso, todas
(:all) y así poder volver a renderizar algún elemento, por ejemplo, aquellos para los que no se conoce el
valor hasta el final del informe (como el número total de páginas).</p>
</li>
<li>
<p><strong>70</strong> <em>pon_elementos</em> es un método de NimbusPDF y lo que hace es renderizar los elementos indicados en la
banda especificada en el primer argumento. Así, el primer argumento es la banda que queremos "re-renderizar"
y el segundo argumento es un hash cuyas claves son los elementos a renderizar, y, los valores, el contenido
de los mismos. Se están usando dos métodos para obtener los números de página:</p>
<div class="ulist">
<ul>
<li>
<p><em>page_number</em>: Sin argumento devuelve el número de la página actual en el informe completo. Puede recibir
un argumento que sería una cadena para pintar; en la cadena se pueden emplear las macros %{p} y %{tp} que
serán sustituidas por el número de la página actual (referida al informe) y por el número total de
páginas del informe.</p>
</li>
<li>
<p><em>page_number_doc</em>: Igual que el método anterior. En este caso, el número de página que devuelve (o el
valor de la macro %{p}) es relativa al documento correspondiente, y %{tp} se sustituirá por el número
total de páginas del documento en curso.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>74</strong> Envía el PDF generado al navegador.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_diseñador_gráfico">Diseñador gráfico</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para acceder al diseñador gráfico lo haremos a través de la URL: <a href="nimpdf" target="_blank" rel="noopener">/nimpdf</a></p>
</div>
<div class="sect2">
<h3 id="_bandas">Bandas</h3>
<div class="imageblock">
<div class="content">
<img src="data:image/png;base64,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" alt="bandas">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Añade una nueva banda de detalle.</p>
</li>
<li>
<p>Elimina todos los elementos de la banda y la propia banda si ésta
es de detalle.</p>
</li>
<li>
<p>Muestra/Oculta los elementos del resto de bandas.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_toolbar">Toolbar</h3>
<div class="imageblock">
<div class="content">
<img src="data:image/png;base64,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" alt="toolbar">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Abre una nueva ventana con un documento vacío.</p>
</li>
<li>
<p>Abre un documento (yml) existente en una nueva ventana.
Hay que usar el path completo desde la raíz del proyecto.</p>
</li>
<li>
<p>Graba el documento.</p>
<div class="ulist">
<ul>
<li>
<p>Si es nuevo nos pedirá el nombre con el que lo
queremos guardar (no es necesario indicar la extensión .yml). Como en
el caso anterior, hay que indicar el path desde la raíz del proyecto.</p>
</li>
<li>
<p>Si ya existe, simplemente lo guardará sin hacer preguntas. En el
tooltip del botón se nos muestra el path completo del fichero.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Abre el diálogo de Configuración de página y valores por defecto.</p>
</li>
<li>
<p>Disminuye el nivel de zoom.</p>
</li>
<li>
<p>Ajusta el zoom para que quepa el ancho completo del documento.</p>
</li>
<li>
<p>Ajusta el zoom para visualizar el documento completo.</p>
</li>
<li>
<p>Aumenta el nivel de zoom.</p>
</li>
<li>
<p>Muestra la coordenada X del punto sobre el que está el cursor.</p>
</li>
<li>
<p>Muestra la coordenada X del punto sobre el que está el cursor.</p>
</li>
<li>
<p>Activa/Desactiva el modo "clonación". Cuando este modo está activo
al arrastrar un elemento haremos una copia de él. Si está desactivado,
simplemente lo moveremos.</p>
</li>
<li>
<p>Muestra/Oculta la imagen de fondo en el caso de estar definida.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_creación_y_manipulación_de_elementos">Creación y manipulación de elementos</h3>
<div class="paragraph">
<p>Para añadir un nuevo elemento a una banda hay que hacer dos <em>clicks</em>, el primero nos definirá un vértice y el segundo definirá el vértice opuesto, generándose así un rectángulo. En el caso de las bandas de detalle el rectángulo siempre tendrá una altura prefijada, ya que ésta es dinámica y se irá ajustando según el contenido que le asociemos por programa. En el caso de la banda de dibujo (draw) los rectángulos se sustituyen por líneas con un grosor predeterminado en la configuración del documento.</p>
</div>
<div class="paragraph">
<p>Dependiendo de si está activado o no el modo "clonación", al arrastrar un elemento, éste se desplazará o se hará una copia del mismo. En ambos casos, si al arrastrar se pulsa la tecla &lt;SHIFT&gt;, el desplazamiento se restringirá al eje horizontal, y si se pulsa la tecla &lt;CTRL&gt; se restringirá al vertical. Si pulsamos la tecla &lt;ALT&gt; se activará el modo "magnético" y la posición del elemento se intentará ajustar a los bordes o vértices de elementos ya existentes. La tecla &lt;ALT&gt; se puede usar en conjunción con &lt;SHIFT&gt; o &lt;CTRL&gt;.</p>
</div>
<div class="paragraph">
<p>En el caso de la banda de dibujo (draw), al hacer el primer <em>click</em> para iniciar una nueva línea, se pude pulsar la tecla &lt;ALT&gt;. En este caso el punto inicial se ajustará al borde o vértice más cercano siempre que la distancia sea menor que un cierto umbral.</p>
</div>
</div>
<div class="sect2">
<h3 id="_atajos_de_teclado">Atajos de teclado</h3>
<div class="paragraph">
<p>Los atajos de teclado funcionan siempre con la tecla &lt;ALT&gt; pulsada o directamente (sin &lt;ALT&gt;) si no hay ningún "input" con foco.</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
+
</td>
<td class="hdlist2">
<p>Aumentar zoom.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
-
</td>
<td class="hdlist2">
<p>Disminuir zoom.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
0
</td>
<td class="hdlist2">
<p>Ajustar zoom para visualizar el documento completo.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
1
</td>
<td class="hdlist2">
<p>Ajustar zoom para que quepa el ancho completo del documento.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
2..9
</td>
<td class="hdlist2">
<p>Distintos niveles de zoom.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
A
</td>
<td class="hdlist2">
<p>Abrir documento.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
B
</td>
<td class="hdlist2">
<p>Añadir banda de detalle.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
C
</td>
<td class="hdlist2">
<p>Activar/Desactivar el modo clonación.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
F
</td>
<td class="hdlist2">
<p>Mostrar/Ocultar imagen de fondo.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
G
</td>
<td class="hdlist2">
<p>Grabar documento.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
N
</td>
<td class="hdlist2">
<p>Nuevo documento,</p>
</td>
</tr>
<tr>
<td class="hdlist1">
P
</td>
<td class="hdlist2">
<p>Mostrar/Ocultar diálogo de configuración.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
V
</td>
<td class="hdlist2">
<p>Mostrar/Ocultar elementos de otras bandas.</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Sobre un elemento seleccionado:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
&#5130;
</td>
<td class="hdlist2">
<p>Mover hacia la izquierda.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
&lt;CTRL&gt; &#5130;
</td>
<td class="hdlist2">
<p>Disminuir anchura.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
&#5125;
</td>
<td class="hdlist2">
<p>Mover hacia la derecha.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
&lt;CTRL&gt; &#5125;
</td>
<td class="hdlist2">
<p>Aumentar anchura.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
&#5123;
</td>
<td class="hdlist2">
<p>Mover hacia arriba.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
&lt;CTRL&gt; &#5123;
</td>
<td class="hdlist2">
<p>Disminuir altura.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
&#5121;
</td>
<td class="hdlist2">
<p>Mover hacia abajo.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
&lt;CTRL&gt; &#5121;
</td>
<td class="hdlist2">
<p>Aumentar altura.</p>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid currentColor;opacity:.35;padding:0 .5em 0 0}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</body>
</html><style>
.codebox {
  height: 300px;
  overflow: auto;
}

.codebox-ruby {
  height: 400px;
  overflow: auto;
}
</style>
